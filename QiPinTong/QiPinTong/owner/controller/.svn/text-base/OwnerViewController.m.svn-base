//
//  OwnerViewController.m
//  å®¶é•¿ç•Œ
//
//  Created by mac on 16/11/6.
//  Copyright Â© 2016å¹´ hahağŸ˜„. All rights reserved.
//

#import "OwnerViewController.h"
#import "Masonry.h"
#import "JWShareView.h"
#import "RetrievePwdViewController.h"
#import "RegisterViewController.h"
#import "MemberCenterViewController.h"
@interface OwnerViewController ()<UIGestureRecognizerDelegate>

@end

@implementation OwnerViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    
    self.view.userInteractionEnabled = YES;
    UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(fingerTapped:)];
    [self.view addGestureRecognizer:singleTap];
    
     self.navigationItem.title = @"ç”¨æˆ·ç™»å½•";
     self.view.backgroundColor = [UIColor whiteColor];
    
     [self setupFrame];

    self.navigationController.interactivePopGestureRecognizer.delegate = self;
}

-(BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer{
    if (self.navigationController.viewControllers.count == 1) {
        return NO;
    }
    else{
        return YES;
    }
}

-(void)setupFrame{
    __weak typeof(self) weakSelf = self;
    
    //æ ‡é¢˜label
    UILabel *titleLabel = [[UILabel alloc] init];
    titleLabel.font = [UIFont systemFontOfSize:20];
    titleLabel.text = @"ä½¿ç”¨è´¦å·å’Œå¯†ç ç™»å½•";
    [self.view addSubview:titleLabel];
    
    [titleLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(weakSelf.view).with.offset(100);
        make.centerX.equalTo(weakSelf.view);
       
    }];
    
   //è´¦å·
    UILabel *accountLabel = [[UILabel alloc]init];
    accountLabel.text = @"è´¦å·";
    accountLabel.font = [UIFont systemFontOfSize:15];
    [self.view addSubview:accountLabel];
    
    [accountLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(titleLabel.mas_bottom).with.offset(30);
        make.left.equalTo(weakSelf.view).with.offset(30);
    }];
    
    //è´¦å·è¾“å…¥
    UITextField *accountField = [[UITextField alloc]init];
    accountField.placeholder = @"æ‰‹æœºå·ç /é‚®ç®±åœ°å€";
    accountField.font = [UIFont systemFontOfSize:15];
    accountField.keyboardType = UIKeyboardTypeEmailAddress;
    [self.view addSubview:accountField];
    
    [accountField mas_makeConstraints:^(MASConstraintMaker *make) {
        make.centerY.equalTo(accountLabel);
        make.left.equalTo(accountLabel.mas_right).with.offset(20);
    }];
    
    //ç¬¬ä¸€æ¡æ¨ªçº¿
    UIView *firstView = [[UIView alloc]init];
    firstView.backgroundColor = [UIColor grayColor];
    [self.view addSubview:firstView];
    
    [firstView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.height.mas_equalTo(@1);
        make.top.equalTo(accountLabel.mas_bottom).with.offset(20);
        make.left.equalTo(weakSelf.view).with.offset(10);
        make.right.equalTo(weakSelf.view).with.offset(-10);
        
    }];
    
    //å¯†ç 
    UILabel *pwdLabel = [[UILabel alloc]init];
    pwdLabel.font = [UIFont systemFontOfSize:15];
    pwdLabel.text = @"å¯†ç ";
    [self.view addSubview:pwdLabel];
    
    [pwdLabel mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(firstView.mas_bottom).with.offset(20);
        make.centerX.equalTo(accountLabel);
        
    }];
    
    //å¯†ç è¾“å…¥
    UITextField *pwdField = [[UITextField alloc]init];
    pwdField.font = [UIFont systemFontOfSize:15];
    pwdField.placeholder = @"è¯·è¾“å…¥å¯†ç ";
    pwdField.secureTextEntry = YES;
    [self.view addSubview:pwdField];
    
    [pwdField mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.centerY.equalTo(pwdLabel);
        make.left.equalTo(pwdLabel.mas_right).with.offset(20);
    }];
    
    //ç¬¬äºŒæ¡æ¨ªçº¿
    UIView *secondView = [[UIView alloc]init];
    secondView.backgroundColor = [UIColor grayColor];
    [self.view addSubview:secondView];
    
    [secondView mas_makeConstraints:^(MASConstraintMaker *make) {
        make.height.mas_equalTo(@1);
        make.top.equalTo(pwdLabel.mas_bottom).with.offset(20);
        make.left.equalTo(weakSelf.view).with.offset(10);
        make.right.equalTo(weakSelf.view).with.offset(-10);
        
    }];

    //ç™»å½•æŒ‰é’®
    UIButton *loginBtn = [[UIButton alloc]init];
    loginBtn.layer.cornerRadius = 5;
    [loginBtn setBackgroundColor:[UIColor blueColor]];
    [loginBtn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    [loginBtn setTitle:@"ç™»     å½•" forState:UIControlStateNormal];
    loginBtn.titleLabel.font = [UIFont systemFontOfSize:15];
    [loginBtn addTarget:self action:@selector(clickLoginBtn) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:loginBtn];
    
    [loginBtn mas_makeConstraints:^(MASConstraintMaker *make) {
        make.left.equalTo(weakSelf.view).with.offset(15);
        make.right.equalTo(weakSelf.view).with.offset(-15);
        make.top.equalTo(secondView.mas_bottom).with.offset(30);
    }];
    
    UIView *vieww = [[UIView alloc]init];
    vieww.frame = CGRectMake(weakSelf.view.width/2, 0, 1, weakSelf.view.height);
    vieww.backgroundColor = [UIColor clearColor];

    [self.view addSubview:vieww];
    
    //æ‰¾å›å¯†ç 
    UIButton *retrievePwd = [[UIButton alloc]init];
    [retrievePwd setTitle:@"æ‰¾å›å¯†ç " forState:UIControlStateNormal];
    [retrievePwd setTitleColor:[UIColor magentaColor] forState:UIControlStateNormal];
    [retrievePwd setBackgroundColor:[UIColor clearColor]];
    retrievePwd.titleLabel.font = [UIFont systemFontOfSize:14];
    [retrievePwd addTarget:self action:@selector(clickRetrievePwd) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:retrievePwd];
    
    [retrievePwd mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(loginBtn.mas_bottom).with.offset(15);
        make.right.equalTo(vieww.mas_left).with.offset(-10);
        
    }];
    
    //ç”¨æˆ·æ³¨å†Œ
    UIButton *registerBtn = [[UIButton alloc]init];
    [registerBtn setTitle:@"ç”¨æˆ·æ³¨å†Œ" forState:UIControlStateNormal];
    [registerBtn setTitleColor:[UIColor magentaColor] forState:UIControlStateNormal];
    [registerBtn setBackgroundColor:[UIColor clearColor]];
    registerBtn.titleLabel.font = [UIFont systemFontOfSize:14];
    [registerBtn addTarget:self action:@selector(clickRetgisterBtn) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:registerBtn];
    
    [registerBtn mas_makeConstraints:^(MASConstraintMaker *make) {
        make.top.equalTo(loginBtn.mas_bottom).with.offset(15);
        make.left.equalTo(vieww.mas_left).with.offset(10);
        
    }];
    
    //å…¶ä»–æ–¹å¼ç™»å½•
    UIButton *otherBtn = [[UIButton alloc]init];
    [otherBtn setTitle:@"å…¶ä»–æ–¹å¼ç™»å½•" forState:UIControlStateNormal];
    [otherBtn setTitleColor:[UIColor magentaColor] forState:UIControlStateNormal];
    [otherBtn setBackgroundColor:[UIColor clearColor]];
    otherBtn.titleLabel.font = [UIFont systemFontOfSize:14];
    [otherBtn addTarget:self action:@selector(clickOtherBtn) forControlEvents:UIControlEventTouchUpInside];
    [self.view addSubview:otherBtn];
    
    [otherBtn mas_makeConstraints:^(MASConstraintMaker *make) {
        make.bottom.equalTo(weakSelf.view.mas_bottom).with.offset(-60);
        make.centerX.equalTo(weakSelf.view);
        
    }];
    
}

//ç‚¹å‡»ç™»å½•æŒ‰é’®
-(void)clickLoginBtn{
    MemberCenterViewController *memberVC = [MemberCenterViewController new];
    [self.navigationController pushViewController:memberVC animated:YES
     ];
}

//ç‚¹å‡»æ‰¾å›å¯†ç 
-(void)clickRetrievePwd{
    RetrievePwdViewController *memberVC = [RetrievePwdViewController new];
    [self.navigationController pushViewController:memberVC animated:YES
     ];

}

//ç‚¹å‡»ç”¨æˆ·æ³¨å†Œ
-(void)clickRetgisterBtn{
    RegisterViewController *memberVC = [RegisterViewController new];
    [self.navigationController pushViewController:memberVC animated:YES
     ];
}

//ç‚¹å‡»å…¶ä»–æ–¹å¼ç™»å½•
-(void)clickOtherBtn{
    NSArray *contentArray = @[@{@"name":@"QQ",@"icon":@"sns_icon_qq"},
        @{@"name":@"å¾®ä¿¡",@"icon":@"sns_icon_wechat"},
        @{@"name":@"æ–°æµªå¾®åš",@"icon":@"sns_icon_weibo"},
                              ];
    JWShareView *shareView = [[JWShareView alloc] init];
    [shareView addShareItems:self.view shareItems:contentArray selectShareItem:^(NSInteger tag, NSString *title) {
        NSLog(@"%ld --- %@", tag, title);
    }];
}

//é”®ç›˜æ¶ˆå¤±
-(void)fingerTapped:(UITapGestureRecognizer *)gestureRecognizer{
    
    [self.view endEditing:YES];
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

@end
